!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}(self.webpackChunkipsfa=self.webpackChunkipsfa||[]).push([[393],{3393:function(t,n,o){o.r(n),o.d(n,{RegistroModule:function(){return M}});var a,i=o(8583),s=o(2305),u=o(3679),g=o(7716),l=o(1841),c=((a=function(){function t(r){e(this,t),this.http=r}return r(t,[{key:"register",value:function(e){return this.http.post("http://192.168.12.247:3002/users/",e)}}]),t}()).\u0275fac=function(e){return new(e||a)(g.LFG(l.eN))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a),d=o(2290),m=o(3738),p=o(8295),f=o(9983),h=o(7441),Z=o(2458),v=o(1095),C=[{path:"",component:function(){var t=function(){function t(r,n,o,a){e(this,t),this.userService=r,this.http=n,this.fb=o,this.toastr=a,this.isValidEmail=/\S+@\S+\.\S+/,this.registroForm=this.fb.group({cedula:["",[u.kI.required,u.kI.minLength(6)]],username:["",[u.kI.required,u.kI.pattern(this.isValidEmail)]],password:["",[u.kI.required,u.kI.minLength(5)]],componente:["",[u.kI.required]],Date:["",[u.kI.required]]}),this.role="admin",this.cedulafamiliar="0",this.allData=[],this.fechaIng=[],this.Date=(new Date).toISOString().slice(0,0)}return r(t,[{key:"getPostDataConceptos",value:function(){return this.http.get("https://app.ipsfa.gob.ve/ipsfa/api/web/militar/"+this.cedula)}},{key:"register",value:function(){var e=this;this.getPostDataConceptos().subscribe(function(t){if(""!=Object.values(t)[0]){e.allData=t;var r=new Date(e.allData.fingreso).toISOString().substr(0,10).split("-");e.fechaIng="0001"!=r[0]?r[0]+"-"+r[1]+"-"+r[2]:"",e.allData.Componente.abreviatura==e.componente?e.Date==e.fechaIng?(e.userService.register({username:e.username,password:e.password,cedula:e.cedula,role:e.role,cedulafamiliar:e.cedulafamiliar}).subscribe(function(e){}),e.toastr.success("Usuario Guardado","Alerta"),setTimeout("javascript:history.back()",1e3)):e.toastr.warning("Fecha Incorrecta","Alerta"):e.toastr.warning("No es componente","Alerta")}else e.toastr.warning("Cedula no Existe","Alerta")})}},{key:"getErrorMessage",value:function(e){var t,r;return this.registroForm.get(e).errors.required?r="campo requerido":this.registroForm.get(e).hasError("pattern")?r="Correo no valido ":this.registroForm.get(e).hasError("minlength")&&(r="debe tener minimo  ".concat(null===(t=this.registroForm.get(e).errors)||void 0===t?void 0:t.minlength.requiredLength," caracteres")),r}},{key:"isValidField",value:function(e){return(this.registroForm.get(e).touched||this.registroForm.get(e).dirty)&&!this.registroForm.get(e).valid}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36(c),g.Y36(l.eN),g.Y36(u.qu),g.Y36(d._W))},t.\u0275cmp=g.Xpm({type:t,selectors:[["app-registro"]],decls:31,vars:8,consts:[[1,"registro-form","img"],["src","../../../../assets/img/img.png","width","40%"],[3,"formGroup","ngSubmit"],[1,"full-width-input"],["text","text","formControlName","cedula","matInput","","placeholder","Cedula Titular","required","",3,"ngModel","ngModelChange"],["formControlName","componente",3,"ngModel","ngModelChange"],["value","EJ"],["value","AR"],["value","AV"],["value","GN"],[2,"text-align","left"],["type","date","formControlName","Date","id","checkindate",1,"full-width-input",3,"ngModel","min","ngModelChange"],["text","text","formControlName","username","matInput","","placeholder","Correo Electronico","required","",3,"ngModel","ngModelChange"],[1,"full-width-input","separator"],["type","password","formControlName","password","matInput","","placeholder","Password","required","",3,"ngModel","ngModelChange"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"mat-card"),g._UZ(2,"img",1),g.TgZ(3,"mat-card-content"),g.TgZ(4,"h1"),g._uU(5,"Registro IPSFA "),g.qZA(),g.TgZ(6,"form",2),g.NdJ("ngSubmit",function(){return t.register()}),g.TgZ(7,"mat-form-field",3),g.TgZ(8,"input",4),g.NdJ("ngModelChange",function(e){return t.cedula=e}),g.qZA(),g.qZA(),g.TgZ(9,"mat-form-field",3),g.TgZ(10,"mat-label"),g._uU(11,"Seleccionar su Componente "),g.qZA(),g.TgZ(12,"mat-select",5),g.NdJ("ngModelChange",function(e){return t.componente=e}),g.TgZ(13,"mat-option",6),g._uU(14,"Ejercito Bolivariana"),g.qZA(),g.TgZ(15,"mat-option",7),g._uU(16,"Armada Bolivariana"),g.qZA(),g.TgZ(17,"mat-option",8),g._uU(18,"Aviaci\xf2n Nacional"),g.qZA(),g.TgZ(19,"mat-option",9),g._uU(20,"Guardia Nacional"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"div",10),g.TgZ(22,"h5"),g._uU(23," Ingrese la Fecha de Ingreso a la FANB"),g.qZA(),g.TgZ(24,"input",11),g.NdJ("ngModelChange",function(e){return t.Date=e}),g.qZA(),g.qZA(),g.TgZ(25,"mat-form-field",3),g.TgZ(26,"input",12),g.NdJ("ngModelChange",function(e){return t.username=e}),g.qZA(),g.qZA(),g.TgZ(27,"mat-form-field",13),g.TgZ(28,"input",14),g.NdJ("ngModelChange",function(e){return t.password=e}),g.qZA(),g.qZA(),g.TgZ(29,"button",15),g._uU(30,"Crear"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(6),g.Q6J("formGroup",t.registroForm),g.xp6(2),g.Q6J("ngModel",t.cedula),g.xp6(4),g.Q6J("ngModel",t.componente),g.xp6(12),g.Q6J("ngModel",t.Date)("min",t.Date),g.xp6(2),g.Q6J("ngModel",t.username),g.xp6(2),g.Q6J("ngModel",t.password),g.xp6(1),g.Q6J("disabled",t.registroForm.invalid))},directives:[m.a8,m.dn,u._Y,u.JL,u.sg,p.KE,u.Fj,f.Nt,u.JJ,u.u,u.Q7,p.hX,h.gD,Z.ey,v.lW],styles:[".registro-form[_ngcontent-%COMP%]{padding:4rem 1rem}.registro-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;text-align:center;height:570px}.registro-form[_ngcontent-%COMP%]   .full-width-input[_ngcontent-%COMP%], .registro-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.registro-form[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin-bottom:2rem}.img[_ngcontent-%COMP%]{background-image:url(fondo.96e17a33bfeab43ca760.jpeg);background-repeat:no-repeat}"]}),t}()}],q=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[s.Bz.forChild(C)],s.Bz]}),t}(),b=o(8429),A=o(2238),M=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({imports:[[i.ez,q,b.q,A.Is,u.UX]]}),t}()}}])}();