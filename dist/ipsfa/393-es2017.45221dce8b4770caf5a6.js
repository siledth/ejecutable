"use strict";(self.webpackChunkipsfa=self.webpackChunkipsfa||[]).push([[393],{3393:function(e,t,r){r.r(t),r.d(t,{RegistroModule:function(){return A}});var o=r(8583),n=r(2305),a=r(3679),i=r(7716),s=r(1841);let g=(()=>{class e{constructor(e){this.http=e}register(e){return this.http.post("http://192.168.12.247:3000/users/",e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(s.eN))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=r(2290),u=r(3738),d=r(8295),c=r(9983),m=r(7441),p=r(2458),h=r(1095);const f=[{path:"",component:(()=>{class e{constructor(e,t,r,o){this.userService=e,this.http=t,this.fb=r,this.toastr=o,this.isValidEmail=/\S+@\S+\.\S+/,this.registroForm=this.fb.group({cedula:["",[a.kI.required,a.kI.minLength(6)]],username:["",[a.kI.required,a.kI.pattern(this.isValidEmail)]],password:["",[a.kI.required,a.kI.minLength(5)]],componente:["",[a.kI.required]],Date:["",[a.kI.required]]}),this.role="admin",this.cedulafamiliar="0",this.allData=[],this.fechaIng=[],this.Date=(new Date).toISOString().slice(0,0)}getPostDataConceptos(){return this.http.get("https://app.ipsfa.gob.ve/ipsfa/api/web/militar/"+this.cedula)}register(){this.getPostDataConceptos().subscribe(e=>{if(""!=Object.values(e)[0]){this.allData=e;let t=new Date(this.allData.fingreso).toISOString().substr(0,10).split("-");this.fechaIng="0001"!=t[0]?t[0]+"-"+t[1]+"-"+t[2]:"",this.allData.Componente.abreviatura==this.componente?this.Date==this.fechaIng?(this.userService.register({username:this.username,password:this.password,cedula:this.cedula,role:this.role,cedulafamiliar:this.cedulafamiliar}).subscribe(e=>{}),this.toastr.success("Usuario Guardado","Alerta"),setTimeout("document.location.reload()",1e3)):this.toastr.warning("Fecha Incorrecta","Alerta"):this.toastr.warning("No es componente","Alerta")}else this.toastr.warning("Cedula no Existe","Alerta")})}getErrorMessage(e){var t;let r;return this.registroForm.get(e).errors.required?r="campo requerido":this.registroForm.get(e).hasError("pattern")?r="Correo no valido ":this.registroForm.get(e).hasError("minlength")&&(r=`debe tener minimo  ${null===(t=this.registroForm.get(e).errors)||void 0===t?void 0:t.minlength.requiredLength} caracteres`),r}isValidField(e){return(this.registroForm.get(e).touched||this.registroForm.get(e).dirty)&&!this.registroForm.get(e).valid}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(g),i.Y36(s.eN),i.Y36(a.qu),i.Y36(l._W))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-registro"]],decls:31,vars:8,consts:[[1,"registro-form","img"],["src","../../../../assets/img/img.png","width","40%"],[3,"formGroup","ngSubmit"],[1,"full-width-input"],["text","text","formControlName","cedula","matInput","","placeholder","Cedula Titular","required","",3,"ngModel","ngModelChange"],["formControlName","componente",3,"ngModel","ngModelChange"],["value","EJ"],["value","AR"],["value","AV"],["value","GN"],[2,"text-align","left"],["type","date","formControlName","Date","id","checkindate",1,"full-width-input",3,"ngModel","min","ngModelChange"],["text","text","formControlName","username","matInput","","placeholder","Correo Electronico","required","",3,"ngModel","ngModelChange"],[1,"full-width-input","separator"],["type","password","formControlName","password","matInput","","placeholder","Password","required","",3,"ngModel","ngModelChange"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"mat-card"),i._UZ(2,"img",1),i.TgZ(3,"mat-card-content"),i.TgZ(4,"h1"),i._uU(5,"Registro IPSFA "),i.qZA(),i.TgZ(6,"form",2),i.NdJ("ngSubmit",function(){return t.register()}),i.TgZ(7,"mat-form-field",3),i.TgZ(8,"input",4),i.NdJ("ngModelChange",function(e){return t.cedula=e}),i.qZA(),i.qZA(),i.TgZ(9,"mat-form-field",3),i.TgZ(10,"mat-label"),i._uU(11,"Seleccionar su Componente "),i.qZA(),i.TgZ(12,"mat-select",5),i.NdJ("ngModelChange",function(e){return t.componente=e}),i.TgZ(13,"mat-option",6),i._uU(14,"Ejercito Bolivariana"),i.qZA(),i.TgZ(15,"mat-option",7),i._uU(16,"Armada Bolivariana"),i.qZA(),i.TgZ(17,"mat-option",8),i._uU(18,"Aviaci\xf2n Nacional"),i.qZA(),i.TgZ(19,"mat-option",9),i._uU(20,"Guardia Nacional"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(21,"div",10),i.TgZ(22,"h5"),i._uU(23," Ingrese la Fecha de Ingreso a la FANB"),i.qZA(),i.TgZ(24,"input",11),i.NdJ("ngModelChange",function(e){return t.Date=e}),i.qZA(),i.qZA(),i.TgZ(25,"mat-form-field",3),i.TgZ(26,"input",12),i.NdJ("ngModelChange",function(e){return t.username=e}),i.qZA(),i.qZA(),i.TgZ(27,"mat-form-field",13),i.TgZ(28,"input",14),i.NdJ("ngModelChange",function(e){return t.password=e}),i.qZA(),i.qZA(),i.TgZ(29,"button",15),i._uU(30,"Crear"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(6),i.Q6J("formGroup",t.registroForm),i.xp6(2),i.Q6J("ngModel",t.cedula),i.xp6(4),i.Q6J("ngModel",t.componente),i.xp6(12),i.Q6J("ngModel",t.Date)("min",t.Date),i.xp6(2),i.Q6J("ngModel",t.username),i.xp6(2),i.Q6J("ngModel",t.password),i.xp6(1),i.Q6J("disabled",t.registroForm.invalid))},directives:[u.a8,u.dn,a._Y,a.JL,a.sg,d.KE,a.Fj,c.Nt,a.JJ,a.u,a.Q7,d.hX,m.gD,p.ey,h.lW],styles:[".registro-form[_ngcontent-%COMP%]{padding:4rem 1rem}.registro-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;text-align:center;height:570px}.registro-form[_ngcontent-%COMP%]   .full-width-input[_ngcontent-%COMP%], .registro-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.registro-form[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{margin-bottom:2rem}.img[_ngcontent-%COMP%]{background-image:url(fondo.96e17a33bfeab43ca760.jpeg);background-repeat:no-repeat}"]}),e})()}];let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[n.Bz.forChild(f)],n.Bz]}),e})();var C=r(8429),q=r(2238);let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[o.ez,Z,C.q,q.Is,a.UX]]}),e})()}}]);